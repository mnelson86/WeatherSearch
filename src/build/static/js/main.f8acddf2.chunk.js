(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(8),i=n.n(a),s=(n(14),n(2)),o=n.n(s),u=n(9),j=n(4),l=n(3),d=(n(16),n(0)),h=function(t){var e=t.onSearch,n=Object(r.useState)("Hartford"),c=Object(l.a)(n,2),a=c[0],i=c[1],s=""===a.trim();return Object(d.jsxs)("div",{children:[Object(d.jsxs)("label",{children:["Add Location",Object(d.jsx)("input",{className:"ml-1 mr-1",type:"text",value:a,placeholder:"Enter city's name/zip",onChange:function(t){return i(t.target.value)}})]}),Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){e(a),i("")},disabled:s,children:"Search"})]})},b=(n(18),function(t){var e=t.locations,n=t.onSelect,r=t.current;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Locations"}),Object(d.jsxs)("table",{className:"table table-hover",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:"Click a city to view its weather"})})}),Object(d.jsx)("tbody",{children:e.map((function(t){return Object(d.jsx)("tr",{className:(null===r||void 0===r?void 0:r.id)===t.id?"table-primary":"",onClick:function(){return n(t)},children:Object(d.jsx)("td",{children:t.name})},t.id)}))})]})]})}),p="appid=c06e26fb78379375d02dba5f18c0f524",f="https://api.openweathermap.org/data/2.5";function O(t){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(f,"/weather?q=").concat(e,"&").concat(p));case 2:if(404!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",void 0);case 5:if(200===n.status){t.next=7;break}throw new Error("Failed to read location data");case 7:return t.next=9,n.json();case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(f,"/weather?id=").concat(e,"&").concat(p,"&units=metric"));case 2:if(200===(n=t.sent).status){t.next=5;break}throw new Error("Failed to read location data");case 5:return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(f,"/forecast?id=").concat(e,"&").concat(p,"&units=metric&cnt=8"));case 2:if(200===(n=t.sent).status){t.next=5;break}throw new Error("Failed to read location data");case 5:return t.next=7,n.json();case 7:return t.abrupt("return",t.sent.list);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return function(e){var n=e.message;return n?Object(d.jsx)("div",{className:"alert ".concat(t),children:n}):null}}var S=y("alert-danger"),k=y("alert-warning");var F=function(t){var e,n=t.weather;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:(e=n.dt,new Date(1e3*e)).toLocaleTimeString()}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("strong",{children:[Math.round(1.8*n.main.temp+32),"\xb0F"]}),Object(d.jsxs)("div",{children:["(",Math.round(1.8*n.main.temp_min+32),"\xb0F /",Math.round(1.8*n.main.temp_max+32),"\xb0F)"]})]}),Object(d.jsxs)("div",{children:["Humidity: ",n.main.humidity,"%"]}),n.weather.map((function(t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:(e=t.icon,"https://openweathermap.org/img/wn/".concat(e,".png")),alt:t.main})," ",t.main," ",t.description]},t.id);var e}))]})},C=(n(19),function(t){var e=t.location,n=Object(r.useState)(null),c=Object(l.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(null),u=Object(l.a)(s,2),h=u[0],b=u[1];return Object(r.useEffect)((function(){Object(j.a)(o.a.mark((function t(){var n,r,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}return t.next=3,Promise.all([m(e.id),w(e.id)]);case 3:n=t.sent,r=Object(l.a)(n,2),c=r[0],a=r[1],i(c),b(a);case 9:case"end":return t.stop()}}),t)})))()}),[e]),e&&a&&h?Object(d.jsxs)("div",{id:"resultsTable",children:[Object(d.jsx)("hr",{}),Object(d.jsxs)("h2",{children:["Current: ",e.name]}),Object(d.jsx)(F,{weather:a}),Object(d.jsx)("h2",{children:"Forecast"}),Object(d.jsx)("div",{children:Object(d.jsx)("ol",{style:{whiteSpace:"nowrap"},children:h.map((function(t){return Object(d.jsx)("li",{children:Object(d.jsx)(F,{weather:t})},t.dt)}))})})]}):null}),N=function(){var t=Object(r.useState)([]),e=Object(l.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(""),i=Object(l.a)(a,2),s=i[0],p=i[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),m=x[0],v=x[1],w=Object(r.useState)(null),g=Object(l.a)(w,2),y=g[0],F=g[1],N=function(){var t=Object(j.a)(o.a.mark((function t(e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(""),v(""),t.next=3,O(e);case 3:(r=t.sent)?n.find((function(t){return t.id===r.id}))?v("Location '".concat(e,"' is already in the list.")):c([r].concat(Object(u.a)(n))):p("No location found called '".concat(e,"'"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("body",{id:"all",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Weather Search"}),Object(d.jsx)(h,{onSearch:N}),Object(d.jsx)("h6",{children:"Default Search Hartford CT: Just press Search"}),Object(d.jsx)(S,{message:s}),Object(d.jsx)(k,{message:m}),Object(d.jsx)(b,{locations:n,current:y,onSelect:function(t){return F(t)}}),Object(d.jsx)(C,{location:y})]})})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))};n(20);i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),E()}},[[21,1,2]]]);
//# sourceMappingURL=main.f8acddf2.chunk.js.map